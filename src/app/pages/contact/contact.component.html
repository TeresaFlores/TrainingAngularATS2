<ng-container *ngIf="showAlert">
  <app-alert [text]="'Your message was sended successfully'" />
</ng-container>

<form
  class="form-horizontal"
  [formGroup]="contactForm"
  (ngSubmit)="handleSubmit()"
>
  <fieldset>
    <legend class="text-center">Contact us</legend>

    <!-- Name input-->
    <div class="form-group">
      <label class="col-md-3 control-label" for="name">*Name:</label>
      <div class="col-md-9">
        <input
          id="name"
          name="name"
          type="text"
          placeholder="Your name"
          class="form-control"
          [value]="contactForm.get('name')?.value | titlecase"
          [ngClass]="{
            'is-invalid':
              contactForm.get('name')?.hasError('required') &&
              contactForm.get('name')?.touched
          }"
          formControlName="name"
        />
        <span class="invalid-feedback">This field is required</span>
      </div>
    </div>

    <!-- Email input-->
    <div class="form-group">
      <label class="col-md-3 control-label mt-2" for="email">*E-mail</label>
      <div class="col-md-9">
        <input
          id="email"
          name="email"
          type="email"
          placeholder="Your email"
          class="form-control"
          formControlName="email"
          [ngClass]="{
            'is-invalid':
              contactForm.get('email')?.hasError('required') &&
              contactForm.get('email')?.touched
          }"
        />
        <span class="invalid-feedback">This field is required</span>
      </div>
    </div>

    <!-- subject input-->
    <div class="form-group">
      <label class="col-md-3 control-label mt-2" for="subject">*Subject</label>
      <div class="col-md-9">
        <input
          id="subject"
          name="subject"
          type="text"
          placeholder="Subject"
          class="form-control"
          formControlName="subject"
          [value]="contactForm.get('subject')?.value | uppercase"
          [ngClass]="{
            'is-invalid':
              contactForm.get('subject')?.hasError('required') &&
              contactForm.get('subject')?.touched
          }"
        />
        <span class="invalid-feedback">This field is required</span>
      </div>
    </div>

    <!-- Message body -->
    <div class="form-group">
      <label class="col-md-3 control-label mt-2" for="message">*Message</label>
      <div class="col-md-9">
        <textarea
          class="form-control"
          id="message"
          name="message"
          placeholder="Please enter your message here..."
          rows="5"
          formControlName="message"
          [ngClass]="{
            'is-invalid':
              contactForm.get('subject')?.hasError('required') &&
              contactForm.get('subject')?.touched
          }"
        ></textarea>
        <span class="invalid-feedback">This field is required</span>
      </div>
    </div>

    <!-- Form actions -->
    <div class="form-group">
      <div class="col-md-12 text-right">
        <app-button type="submit" buttonText="Send message" class="mt-2">
          <span
            *ngIf="showLoader"
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
          ></span>
        </app-button>
      </div>
    </div>
  </fieldset>
  <p class="mt-3">* Required Fields</p>
</form>
